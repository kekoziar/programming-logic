<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 10 Practice annotating and understanding unfamiliar code | Programming Logic for Non-Programmers</title>
<meta name="author" content="Kat Koziar and Stephanie Labou">
<meta name="description" content="10.1 Nested for loops and if else statements (in Python) Here is an example of code that is scraping content from a set of website pages and saving that content locally. It uses ‘nested’ for...">
<meta name="generator" content="bookdown 0.42 with bs4_book()">
<meta property="og:title" content="Chapter 10 Practice annotating and understanding unfamiliar code | Programming Logic for Non-Programmers">
<meta property="og:type" content="book">
<meta property="og:description" content="10.1 Nested for loops and if else statements (in Python) Here is an example of code that is scraping content from a set of website pages and saving that content locally. It uses ‘nested’ for...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 10 Practice annotating and understanding unfamiliar code | Programming Logic for Non-Programmers">
<meta name="twitter:description" content="10.1 Nested for loops and if else statements (in Python) Here is an example of code that is scraping content from a set of website pages and saving that content locally. It uses ‘nested’ for...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 0em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Programming Logic for Non-Programmers</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> About</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">2</span> Introduction</a></li>
<li><a class="" href="algorithms.html"><span class="header-section-number">3</span> Algorithms</a></li>
<li><a class="" href="data-types.html"><span class="header-section-number">4</span> Data types</a></li>
<li><a class="" href="loops.html"><span class="header-section-number">5</span> Loops</a></li>
<li><a class="" href="conditionals-and-making-choices.html"><span class="header-section-number">6</span> Conditionals and Making Choices</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">7</span> Functions</a></li>
<li><a class="" href="comments-and-names.html"><span class="header-section-number">8</span> Comments and Names</a></li>
<li><a class="" href="common-issues.html"><span class="header-section-number">9</span> Common Issues</a></li>
<li><a class="active" href="practice-annotating-and-understanding-unfamiliar-code.html"><span class="header-section-number">10</span> Practice annotating and understanding unfamiliar code</a></li>
<li><a class="" href="recap-and-consultation-tips.html"><span class="header-section-number">11</span> Recap and Consultation Tips</a></li>
<li><a class="" href="bd-demo-intro.html"><span class="header-section-number">12</span> BD Demo Introduction</a></li>
<li><a class="" href="bd-demo-methods.html"><span class="header-section-number">13</span> BD Demo Methods</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="practice-annotating-and-understanding-unfamiliar-code" class="section level1" number="10">
<h1>
<span class="header-section-number">10</span> Practice annotating and understanding unfamiliar code<a class="anchor" aria-label="anchor" href="#practice-annotating-and-understanding-unfamiliar-code"><i class="fas fa-link"></i></a>
</h1>
<div id="nested-for-loops-and-if-else-statements-in-python" class="section level2" number="10.1">
<h2>
<span class="header-section-number">10.1</span> Nested <code>for</code> loops and <code>if else</code> statements (in Python)<a class="anchor" aria-label="anchor" href="#nested-for-loops-and-if-else-statements-in-python"><i class="fas fa-link"></i></a>
</h2>
<p>Here is an example of code that is scraping content from a set of website pages and saving that content locally. It uses ‘nested’ <code>for</code> loops, meaning a second loop occurs within the first loops. It also uses nested <code>if else</code> statements.</p>
<p><strong>SL: we can simplify this example, maybe remove session_id and save_loc</strong></p>
<p>For this code, can you identify where each <code>for</code> loop and each <code>if else</code> statement ends? Or put another way, can you figure out on which lines (numbered in code chunk below) each statement starts and stops?</p>
<pre><code>1.  base_url = "https://nces.ed.gov/ipeds/datacenter/"
2.  data_url = "DataFiles.aspx?"
3.  year_base = "year="
4.  years = ["1995", "1996", "1997", "1998"]
5.  session_id = "&amp;sid=4f8f293f-df75-42cd-9cc0-ed184270cf17&amp;rtid=7"  #you might need to change this
6. 
7.  # what type of files do you want to save?
8.  file_type = ["zip","csv"]
9. 
10. # where do you want to save locally?
11. 
12. # save_loc is redundant, but a reminder that you should have locally folders that reflect the years, 13. because that's where below is saving to
14. save_loc = years 
15. 
16. # what kind of prefix do you want on your files
17. save_prefix = "ipeds_" 
18. 
19. # scrape
20. for year in years:
21.     url = base_url+data_url+year_base+year+session_id 
22.     webpage = requests.get(url)
23.     soup = BeautifulSoup(webpage.content, 'html.parser')
24. 
25. 
26.     if os.path.isdir("./"+year):
27.         # notice output path has "year" as a variable indicating folders
28.         output_path = "./"+year+"/"+save_prefix+year+"_"+".html"
29.     
30.         if os.path.exists(output_path):
31.             print(output_path+" already exists. Did NOT save.")
32.         else:
33.             # saving the html file
34.             print("saving "+output_path)
35.     
36.             with open(output_path, 'wb') as file:
37.                 file.write(webpage.content) 
38.             
39.         # saving files linked on original html page which meet file type requirement
40.         for link in soup.find_all('a')[0:16]:  
41.             data_target = link.get('href')
42.             # data_target[-3:]
43.             if any(extension == data_target[-3:] for extension in file_type):
44.                 wget_url = base_url+data_target
45.                 wget_save = "./"+year+"/"+save_prefix+data_target.replace("/","-")
46.     
47.                 if os.path.exists(wget_save):
48.                     print(wget_save+" already exists. Did NOT save.")
49.                 else:
50.                     print("SAVING "+ wget_url+ " at local location: "+wget_save)
51.                     wget.download(wget_url,wget_save)
52.                     time.sleep(.25) # be kind, don't look like a DDOS attack
53.     else:
54.         print("\n!!! save directory "+year+" does NOT exist. please create\n")
55.     
56.     
57. print("fin.")
</code></pre>
</div>
<div id="new-types-of-conditions-in-sql" class="section level2" number="10.2">
<h2>
<span class="header-section-number">10.2</span> New types of conditions (in SQL)<a class="anchor" aria-label="anchor" href="#new-types-of-conditions-in-sql"><i class="fas fa-link"></i></a>
</h2>
<p>Consider the following SQL command:</p>
<pre><code>SELECT * FROM OceanBuoys
WHERE Ocean = 'Atlantic' AND (BuoyName LIKE 'S%' OR BuoyName LIKE 'K%');
</code></pre>
<p>Your preferred approach for navigating and understanding unfamiliar code may vary.<br></p>
<p>One option is to break down code into its component parts. Here you can separate out functions (common tasks across programming languages) from data-specific variables and names. Can you identify:</p>
<ul>
<li>What does the <code>OceanBuoys</code> term most likely refer to?</li>
<li>What do you think the <code>SELECT</code> function does?</li>
<li>What does <code>*</code> indicate, in combination with <code>SELECT</code>?</li>
<li>Parsing the second line that starts with <code>WHERE</code>, can you make an educated guess about what <code>Country</code> and <code>BuoyName</code> refer to?</li>
<li>Can you guess (or feel free to use Google) what <code>LIKE 'S%'</code> and <code>LIKE 'K%'</code> would indicate?</li>
</ul>
<details><summary>
Do your answers match these?
</summary><ul>
<li>The <code>OceanBuoys</code> term here refers to a table or dataframe.</li>
<li>The <code>SELECT</code> function selects columns from a table.</li>
<li>The <code>*</code> here indicates that we want to return all columns from the table.</li>
<li>The <code>OceanBuoys</code> table must have columns named <code>Country</code> and <code>BuoyName</code>.</li>
<li>
<code>LIKE</code> is used for pattern matching. This code is matching values that start with “S” or with “K”.</li>
</ul></details><p><br></p>
<p>Now, can you write out a narrative of what you see the code is trying to do?<br></p>
<details><summary>
Example written narrative
</summary><p>Starting from the <code>OceanBuoys</code> table, return all columns but only rows where <code>Country</code> is equal to “Spain” <strong>and</strong> where the <code>BuoyName</code> value starts with “S” or “K”.</p>
</details><p><br></p>
</div>
<div id="add-example-for-cc" class="section level2" number="10.3">
<h2>
<span class="header-section-number">10.3</span> add example for C/C++<a class="anchor" aria-label="anchor" href="#add-example-for-cc"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="challenge-practice-new-syntax-and-terms-in-r" class="section level2" number="10.4">
<h2>
<span class="header-section-number">10.4</span> Challenge practice: new syntax and terms (in R)<a class="anchor" aria-label="anchor" href="#challenge-practice-new-syntax-and-terms-in-r"><i class="fas fa-link"></i></a>
</h2>
<p>While the logic underlying programming languages stays consistent, a central challenge is that different languages often have their own special syntax, which can take a while to get used to. But don’t panic! Familiarity comes with experience and in the meantime, Google is your friend.<br></p>
<p>In the code example below, note the new symbol <code>%&gt;%</code> and <code>%in%</code> and the new functions <code>mutate()</code> and <code><a href="https://rdrr.io/r/base/paste.html">paste()</a></code>. The <code>select()</code> function at least is more familiar from the example above, and <code>ifelse</code> is an <code>if else</code> statement.</p>
<pre><code>1.  df_new &lt;- df %&gt;% 
2.    select(-respondent_name) %&gt;% 
3.    mutate(identifier = paste(respondent_id, survey_wave, sep = "_")) %&gt;% 
4.    mutate(survey_type = ifelse(survey_wave %in% c("first", "second"), "phone", "in person"))
  </code></pre>
<p>Task: go line by line and annotate, in your own words, what that line of code is doing.<br></p>
<p>Each line has a new take on the same logic we’ve covered in prior sections; a breakdown of new terms is below, to guide your annotation.</p>
<ul>
<li>Line 1
<ul>
<li>What is <code>df_new &lt;- df</code> doing here?</li>
<li>What does the <code>%&gt;%</code> symbol indicate?</li>
</ul>
</li>
<li>Line 2
<ul>
<li>What is the <code>select()</code> function likely doing?</li>
<li>What might it mean that the argument in this function is preceded by <code>-</code>?</li>
</ul>
</li>
<li>Line 3
<ul>
<li>Using context clues (and Google) what do you think the <code>mutate()</code> function does?</li>
<li>The new <code><a href="https://rdrr.io/r/base/paste.html">paste()</a></code> function has three arguments (<code>paste(arg1, arg2, arg3)</code>). What do you think the arguments are for?</li>
</ul>
</li>
<li>Line 4
<ul>
<li>This <code><a href="https://rdrr.io/r/base/ifelse.html">ifelse()</a></code> statement has a different format than we’ve covered so far, but the concept is the same. Assuming this <code><a href="https://rdrr.io/r/base/ifelse.html">ifelse()</a></code> statement has three arguments (<code>ifelse(condition, mystery1, mystery2)</code>) what might the two mystery arguments be specifying?</li>
<li>Looking at the section <code>survey_wave %in% c("first", "second")</code>, what do you think this would translate to, as a written explanation of the task here?</li>
</ul>
</li>
</ul>
<p>Finally, it is always important to understand the data type and structure of the data being acted upon. Keep in mind, based on the questions above, what is the structure of the data being used here?</p>
<details><summary>
Example narrative
</summary><p>Starting from the table/dataframe called “df”, we want to keep (select) all columns <em>except</em> the column named “respondent_name”.<br></p>
<p>Then, make a new column called “identifier”. This new column is created by pasting together the value in the “respondent_id” column and the “survey_wave” column, separated by an underscore.<br></p>
<p>Then, make another new column called “survey_type”. The values in this column are determined by an <code>ifelse</code> statement: if the value in the “survey_wave” column is any of the values specified in the list <code>("first", "second")</code> (so if the value is “first” or “second”), then the value in the “survey_type” column will be “phone”. Otherwise, the value will be “in person”.<br></p>
</details><p><br></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="common-issues.html"><span class="header-section-number">9</span> Common Issues</a></div>
<div class="next"><a href="recap-and-consultation-tips.html"><span class="header-section-number">11</span> Recap and Consultation Tips</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#practice-annotating-and-understanding-unfamiliar-code"><span class="header-section-number">10</span> Practice annotating and understanding unfamiliar code</a></li>
<li><a class="nav-link" href="#nested-for-loops-and-if-else-statements-in-python"><span class="header-section-number">10.1</span> Nested for loops and if else statements (in Python)</a></li>
<li><a class="nav-link" href="#new-types-of-conditions-in-sql"><span class="header-section-number">10.2</span> New types of conditions (in SQL)</a></li>
<li><a class="nav-link" href="#add-example-for-cc"><span class="header-section-number">10.3</span> add example for C/C++</a></li>
<li><a class="nav-link" href="#challenge-practice-new-syntax-and-terms-in-r"><span class="header-section-number">10.4</span> Challenge practice: new syntax and terms (in R)</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Programming Logic for Non-Programmers</strong>" was written by Kat Koziar and Stephanie Labou. It was last built on 2025-02-21.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
